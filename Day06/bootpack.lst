     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_sprintf
     7 00000000                                 	EXTERN	_io_hlt
     8 00000000                                 	EXTERN	_io_load_eflags
     9 00000000                                 	EXTERN	_io_cli
    10 00000000                                 	EXTERN	_io_out8
    11 00000000                                 	EXTERN	_io_store_eflags
    12 00000000                                 	EXTERN	_hankaku
    13 00000000                                 	EXTERN	_load_gdtr
    14 00000000                                 	EXTERN	_load_idtr
    15 00000000                                 [FILE "bootpack.c"]
    16                                          [SECTION .data]
    17 00000000                                 _font_A:
    18 00000000 00                              	DB	0
    19 00000001 18                              	DB	24
    20 00000002 18                              	DB	24
    21 00000003 18                              	DB	24
    22 00000004 18                              	DB	24
    23 00000005 24                              	DB	36
    24 00000006 24                              	DB	36
    25 00000007 24                              	DB	36
    26 00000008 24                              	DB	36
    27 00000009 7E                              	DB	126
    28 0000000A 42                              	DB	66
    29 0000000B 42                              	DB	66
    30 0000000C 42                              	DB	66
    31 0000000D E7                              	DB	-25
    32 0000000E 00                              	DB	0
    33 0000000F 00                              	DB	0
    34 00000010                                 LC0:
    35 00000010 41 42 43 20 31 32 33 00         	DB	"ABC 123",0x00
    36 00000018                                 LC1:
    37 00000018 48 61 72 69 62 6F 74 65 20 4F   	DB	"Haribote OS.",0x00
       00000022 53 2E 00 
    38 00000025                                 LC2:
    39 00000025 73 63 72 6E 78 20 3D 20 25 64   	DB	"scrnx = %d",0x00
       0000002F 00 
    40                                          [SECTION .text]
    41 00000000                                 	GLOBAL	_HariMain
    42 00000000                                 _HariMain:
    43 00000000 55                              	PUSH	EBP
    44 00000001 89 E5                           	MOV	EBP,ESP
    45 00000003 57                              	PUSH	EDI
    46 00000004 56                              	PUSH	ESI
    47 00000005 53                              	PUSH	EBX
    48 00000006 8D 5D C4                        	LEA	EBX,DWORD [-60+EBP]
    49 00000009 81 EC 00000130                  	SUB	ESP,304
    50 0000000F E8 0000010B                     	CALL	_init_palette
    51 00000014 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
    52 0000001B 50                              	PUSH	EAX
    53 0000001C 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    54 00000023 50                              	PUSH	EAX
    55 00000024 FF 35 00000FF8                  	PUSH	DWORD [4088]
    56 0000002A E8 000001DC                     	CALL	_init_screen
    57 0000002F 68 [00000010]                   	PUSH	LC0
    58 00000034 6A 07                           	PUSH	7
    59 00000036 6A 08                           	PUSH	8
    60 00000038 6A 08                           	PUSH	8
    61 0000003A 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    62 00000041 50                              	PUSH	EAX
    63 00000042 FF 35 00000FF8                  	PUSH	DWORD [4088]
    64 00000048 E8 00000349                     	CALL	_putfonts8_asc
    65 0000004D 83 C4 24                        	ADD	ESP,36
    66 00000050 68 [00000018]                   	PUSH	LC1
    67 00000055 6A 00                           	PUSH	0
    68 00000057 6A 1F                           	PUSH	31
    69 00000059 6A 1F                           	PUSH	31
    70 0000005B 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    71 00000062 50                              	PUSH	EAX
    72 00000063 FF 35 00000FF8                  	PUSH	DWORD [4088]
    73 00000069 E8 00000328                     	CALL	_putfonts8_asc
    74 0000006E 68 [00000018]                   	PUSH	LC1
    75 00000073 6A 07                           	PUSH	7
    76 00000075 6A 1E                           	PUSH	30
    77 00000077 6A 1E                           	PUSH	30
    78 00000079 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    79 00000080 50                              	PUSH	EAX
    80 00000081 FF 35 00000FF8                  	PUSH	DWORD [4088]
    81 00000087 E8 0000030A                     	CALL	_putfonts8_asc
    82 0000008C 83 C4 30                        	ADD	ESP,48
    83 0000008F 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    84 00000096 50                              	PUSH	EAX
    85 00000097 68 [00000025]                   	PUSH	LC2
    86 0000009C 53                              	PUSH	EBX
    87 0000009D E8 [00000000]                   	CALL	_sprintf
    88 000000A2 53                              	PUSH	EBX
    89 000000A3 6A 07                           	PUSH	7
    90 000000A5 8D 9D FFFFFEC4                  	LEA	EBX,DWORD [-316+EBP]
    91 000000AB 6A 40                           	PUSH	64
    92 000000AD 6A 10                           	PUSH	16
    93 000000AF 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    94 000000B6 50                              	PUSH	EAX
    95 000000B7 FF 35 00000FF8                  	PUSH	DWORD [4088]
    96 000000BD E8 000002D4                     	CALL	_putfonts8_asc
    97 000000C2 83 C4 24                        	ADD	ESP,36
    98 000000C5 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    99 000000CC B9 00000002                     	MOV	ECX,2
   100 000000D1 8D 50 F0                        	LEA	EDX,DWORD [-16+EAX]
   101 000000D4 89 D0                           	MOV	EAX,EDX
   102 000000D6 99                              	CDQ
   103 000000D7 F7 F9                           	IDIV	ECX
   104 000000D9 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
   105 000000E0 83 EA 2C                        	SUB	EDX,44
   106 000000E3 89 C7                           	MOV	EDI,EAX
   107 000000E5 89 D0                           	MOV	EAX,EDX
   108 000000E7 6A 0E                           	PUSH	14
   109 000000E9 99                              	CDQ
   110 000000EA F7 F9                           	IDIV	ECX
   111 000000EC 53                              	PUSH	EBX
   112 000000ED 89 C6                           	MOV	ESI,EAX
   113 000000EF E8 00000403                     	CALL	_init_mouse_cursor8
   114 000000F4 6A 10                           	PUSH	16
   115 000000F6 53                              	PUSH	EBX
   116 000000F7 56                              	PUSH	ESI
   117 000000F8 57                              	PUSH	EDI
   118 000000F9 6A 10                           	PUSH	16
   119 000000FB 6A 10                           	PUSH	16
   120 000000FD 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   121 00000104 50                              	PUSH	EAX
   122 00000105 FF 35 00000FF8                  	PUSH	DWORD [4088]
   123 0000010B E8 00000444                     	CALL	_putblock8_8
   124 00000110 83 C4 28                        	ADD	ESP,40
   125 00000113 E8 00000492                     	CALL	_init_gdtidt
   126 00000118                                 L2:
   127 00000118 E8 [00000000]                   	CALL	_io_hlt
   128 0000011D EB F9                           	JMP	L2
   129                                          [SECTION .data]
   130 00000030                                 _table_rgb.0:
   131 00000030 00                              	DB	0
   132 00000031 00                              	DB	0
   133 00000032 00                              	DB	0
   134 00000033 FF                              	DB	-1
   135 00000034 00                              	DB	0
   136 00000035 00                              	DB	0
   137 00000036 00                              	DB	0
   138 00000037 FF                              	DB	-1
   139 00000038 00                              	DB	0
   140 00000039 FF                              	DB	-1
   141 0000003A FF                              	DB	-1
   142 0000003B 00                              	DB	0
   143 0000003C 00                              	DB	0
   144 0000003D 00                              	DB	0
   145 0000003E FF                              	DB	-1
   146 0000003F FF                              	DB	-1
   147 00000040 00                              	DB	0
   148 00000041 FF                              	DB	-1
   149 00000042 00                              	DB	0
   150 00000043 FF                              	DB	-1
   151 00000044 FF                              	DB	-1
   152 00000045 FF                              	DB	-1
   153 00000046 FF                              	DB	-1
   154 00000047 FF                              	DB	-1
   155 00000048 C6                              	DB	-58
   156 00000049 C6                              	DB	-58
   157 0000004A C6                              	DB	-58
   158 0000004B 84                              	DB	-124
   159 0000004C 00                              	DB	0
   160 0000004D 00                              	DB	0
   161 0000004E 00                              	DB	0
   162 0000004F 84                              	DB	-124
   163 00000050 00                              	DB	0
   164 00000051 84                              	DB	-124
   165 00000052 84                              	DB	-124
   166 00000053 00                              	DB	0
   167 00000054 00                              	DB	0
   168 00000055 00                              	DB	0
   169 00000056 84                              	DB	-124
   170 00000057 84                              	DB	-124
   171 00000058 00                              	DB	0
   172 00000059 84                              	DB	-124
   173 0000005A 00                              	DB	0
   174 0000005B 84                              	DB	-124
   175 0000005C 84                              	DB	-124
   176 0000005D 84                              	DB	-124
   177 0000005E 84                              	DB	-124
   178 0000005F 84                              	DB	-124
   179                                          [SECTION .text]
   180 0000011F                                 	GLOBAL	_init_palette
   181 0000011F                                 _init_palette:
   182 0000011F 55                              	PUSH	EBP
   183 00000120 89 E5                           	MOV	EBP,ESP
   184 00000122 68 [00000030]                   	PUSH	_table_rgb.0
   185 00000127 6A 0F                           	PUSH	15
   186 00000129 6A 00                           	PUSH	0
   187 0000012B E8 00000002                     	CALL	_set_palette
   188 00000130 C9                              	LEAVE
   189 00000131 C3                              	RET
   190 00000132                                 	GLOBAL	_set_palette
   191 00000132                                 _set_palette:
   192 00000132 55                              	PUSH	EBP
   193 00000133 89 E5                           	MOV	EBP,ESP
   194 00000135 57                              	PUSH	EDI
   195 00000136 56                              	PUSH	ESI
   196 00000137 53                              	PUSH	EBX
   197 00000138 51                              	PUSH	ECX
   198 00000139 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   199 0000013C 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   200 0000013F 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   201 00000142 E8 [00000000]                   	CALL	_io_load_eflags
   202 00000147 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   203 0000014A E8 [00000000]                   	CALL	_io_cli
   204 0000014F 53                              	PUSH	EBX
   205 00000150 68 000003C8                     	PUSH	968
   206 00000155 E8 [00000000]                   	CALL	_io_out8
   207 0000015A 39 FB                           	CMP	EBX,EDI
   208 0000015C 58                              	POP	EAX
   209 0000015D 5A                              	POP	EDX
   210 0000015E 7E 12                           	JLE	L11
   211 00000160                                 L13:
   212 00000160 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   213 00000163 89 45 08                        	MOV	DWORD [8+EBP],EAX
   214 00000166 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   215 00000169 5B                              	POP	EBX
   216 0000016A 5E                              	POP	ESI
   217 0000016B 5F                              	POP	EDI
   218 0000016C 5D                              	POP	EBP
   219 0000016D E9 [00000000]                   	JMP	_io_store_eflags
   220 00000172                                 L11:
   221 00000172 8A 06                           	MOV	AL,BYTE [ESI]
   222 00000174 43                              	INC	EBX
   223 00000175 C0 E8 02                        	SHR	AL,2
   224 00000178 0F B6 C0                        	MOVZX	EAX,AL
   225 0000017B 50                              	PUSH	EAX
   226 0000017C 68 000003C9                     	PUSH	969
   227 00000181 E8 [00000000]                   	CALL	_io_out8
   228 00000186 8A 46 01                        	MOV	AL,BYTE [1+ESI]
   229 00000189 C0 E8 02                        	SHR	AL,2
   230 0000018C 0F B6 C0                        	MOVZX	EAX,AL
   231 0000018F 50                              	PUSH	EAX
   232 00000190 68 000003C9                     	PUSH	969
   233 00000195 E8 [00000000]                   	CALL	_io_out8
   234 0000019A 8A 46 02                        	MOV	AL,BYTE [2+ESI]
   235 0000019D C0 E8 02                        	SHR	AL,2
   236 000001A0 83 C6 03                        	ADD	ESI,3
   237 000001A3 0F B6 C0                        	MOVZX	EAX,AL
   238 000001A6 50                              	PUSH	EAX
   239 000001A7 68 000003C9                     	PUSH	969
   240 000001AC E8 [00000000]                   	CALL	_io_out8
   241 000001B1 83 C4 18                        	ADD	ESP,24
   242 000001B4 39 FB                           	CMP	EBX,EDI
   243 000001B6 7E BA                           	JLE	L11
   244 000001B8 EB A6                           	JMP	L13
   245 000001BA                                 	GLOBAL	_boxfill8
   246 000001BA                                 _boxfill8:
   247 000001BA 55                              	PUSH	EBP
   248 000001BB 89 E5                           	MOV	EBP,ESP
   249 000001BD 57                              	PUSH	EDI
   250 000001BE 56                              	PUSH	ESI
   251 000001BF 53                              	PUSH	EBX
   252 000001C0 57                              	PUSH	EDI
   253 000001C1 57                              	PUSH	EDI
   254 000001C2 8A 45 10                        	MOV	AL,BYTE [16+EBP]
   255 000001C5 8B 4D 18                        	MOV	ECX,DWORD [24+EBP]
   256 000001C8 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
   257 000001CB 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   258 000001CE 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   259 000001D1 7F 31                           	JG	L26
   260 000001D3 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   261 000001D6 0F AF D9                        	IMUL	EBX,ECX
   262 000001D9                                 L24:
   263 000001D9 8B 55 14                        	MOV	EDX,DWORD [20+EBP]
   264 000001DC 39 FA                           	CMP	EDX,EDI
   265 000001DE 7F 1B                           	JG	L28
   266 000001E0 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   267 000001E3 01 DE                           	ADD	ESI,EBX
   268 000001E5 01 D6                           	ADD	ESI,EDX
   269 000001E7 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   270 000001EA                                 L23:
   271 000001EA 8B 75 EC                        	MOV	ESI,DWORD [-20+EBP]
   272 000001ED 8A 45 F3                        	MOV	AL,BYTE [-13+EBP]
   273 000001F0 42                              	INC	EDX
   274 000001F1 88 06                           	MOV	BYTE [ESI],AL
   275 000001F3 46                              	INC	ESI
   276 000001F4 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   277 000001F7 39 FA                           	CMP	EDX,EDI
   278 000001F9 7E EF                           	JLE	L23
   279 000001FB                                 L28:
   280 000001FB 41                              	INC	ECX
   281 000001FC 03 5D 0C                        	ADD	EBX,DWORD [12+EBP]
   282 000001FF 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   283 00000202 7E D5                           	JLE	L24
   284 00000204                                 L26:
   285 00000204 5B                              	POP	EBX
   286 00000205 5E                              	POP	ESI
   287 00000206 5B                              	POP	EBX
   288 00000207 5E                              	POP	ESI
   289 00000208 5F                              	POP	EDI
   290 00000209 5D                              	POP	EBP
   291 0000020A C3                              	RET
   292 0000020B                                 	GLOBAL	_init_screen
   293 0000020B                                 _init_screen:
   294 0000020B 55                              	PUSH	EBP
   295 0000020C 89 E5                           	MOV	EBP,ESP
   296 0000020E 57                              	PUSH	EDI
   297 0000020F 56                              	PUSH	ESI
   298 00000210 53                              	PUSH	EBX
   299 00000211 83 EC 0C                        	SUB	ESP,12
   300 00000214 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   301 00000217 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   302 0000021A 83 E8 1D                        	SUB	EAX,29
   303 0000021D 4F                              	DEC	EDI
   304 0000021E 50                              	PUSH	EAX
   305 0000021F 57                              	PUSH	EDI
   306 00000220 6A 00                           	PUSH	0
   307 00000222 6A 00                           	PUSH	0
   308 00000224 6A 0E                           	PUSH	14
   309 00000226 FF 75 0C                        	PUSH	DWORD [12+EBP]
   310 00000229 FF 75 08                        	PUSH	DWORD [8+EBP]
   311 0000022C E8 FFFFFF89                     	CALL	_boxfill8
   312 00000231 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   313 00000234 83 E8 1C                        	SUB	EAX,28
   314 00000237 50                              	PUSH	EAX
   315 00000238 57                              	PUSH	EDI
   316 00000239 50                              	PUSH	EAX
   317 0000023A 6A 00                           	PUSH	0
   318 0000023C 6A 08                           	PUSH	8
   319 0000023E FF 75 0C                        	PUSH	DWORD [12+EBP]
   320 00000241 FF 75 08                        	PUSH	DWORD [8+EBP]
   321 00000244 E8 FFFFFF71                     	CALL	_boxfill8
   322 00000249 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   323 0000024C 83 C4 38                        	ADD	ESP,56
   324 0000024F 83 E8 1B                        	SUB	EAX,27
   325 00000252 50                              	PUSH	EAX
   326 00000253 57                              	PUSH	EDI
   327 00000254 50                              	PUSH	EAX
   328 00000255 6A 00                           	PUSH	0
   329 00000257 6A 07                           	PUSH	7
   330 00000259 FF 75 0C                        	PUSH	DWORD [12+EBP]
   331 0000025C FF 75 08                        	PUSH	DWORD [8+EBP]
   332 0000025F E8 FFFFFF56                     	CALL	_boxfill8
   333 00000264 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   334 00000267 48                              	DEC	EAX
   335 00000268 50                              	PUSH	EAX
   336 00000269 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   337 0000026C 57                              	PUSH	EDI
   338 0000026D 83 E8 1A                        	SUB	EAX,26
   339 00000270 50                              	PUSH	EAX
   340 00000271 6A 00                           	PUSH	0
   341 00000273 6A 08                           	PUSH	8
   342 00000275 FF 75 0C                        	PUSH	DWORD [12+EBP]
   343 00000278 FF 75 08                        	PUSH	DWORD [8+EBP]
   344 0000027B E8 FFFFFF3A                     	CALL	_boxfill8
   345 00000280 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   346 00000283 83 C4 38                        	ADD	ESP,56
   347 00000286 83 EE 18                        	SUB	ESI,24
   348 00000289 56                              	PUSH	ESI
   349 0000028A 6A 3B                           	PUSH	59
   350 0000028C 56                              	PUSH	ESI
   351 0000028D 6A 03                           	PUSH	3
   352 0000028F 6A 07                           	PUSH	7
   353 00000291 FF 75 0C                        	PUSH	DWORD [12+EBP]
   354 00000294 FF 75 08                        	PUSH	DWORD [8+EBP]
   355 00000297 E8 FFFFFF1E                     	CALL	_boxfill8
   356 0000029C 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   357 0000029F 83 E8 04                        	SUB	EAX,4
   358 000002A2 50                              	PUSH	EAX
   359 000002A3 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   360 000002A6 6A 02                           	PUSH	2
   361 000002A8 56                              	PUSH	ESI
   362 000002A9 6A 02                           	PUSH	2
   363 000002AB 6A 07                           	PUSH	7
   364 000002AD FF 75 0C                        	PUSH	DWORD [12+EBP]
   365 000002B0 FF 75 08                        	PUSH	DWORD [8+EBP]
   366 000002B3 E8 FFFFFF02                     	CALL	_boxfill8
   367 000002B8 83 C4 38                        	ADD	ESP,56
   368 000002BB FF 75 F0                        	PUSH	DWORD [-16+EBP]
   369 000002BE 6A 3B                           	PUSH	59
   370 000002C0 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   371 000002C3 6A 03                           	PUSH	3
   372 000002C5 6A 0F                           	PUSH	15
   373 000002C7 FF 75 0C                        	PUSH	DWORD [12+EBP]
   374 000002CA FF 75 08                        	PUSH	DWORD [8+EBP]
   375 000002CD E8 FFFFFEE8                     	CALL	_boxfill8
   376 000002D2 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   377 000002D5 83 E8 05                        	SUB	EAX,5
   378 000002D8 50                              	PUSH	EAX
   379 000002D9 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   380 000002DC 6A 3B                           	PUSH	59
   381 000002DE 83 E8 17                        	SUB	EAX,23
   382 000002E1 50                              	PUSH	EAX
   383 000002E2 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   384 000002E5 6A 3B                           	PUSH	59
   385 000002E7 6A 0F                           	PUSH	15
   386 000002E9 FF 75 0C                        	PUSH	DWORD [12+EBP]
   387 000002EC FF 75 08                        	PUSH	DWORD [8+EBP]
   388 000002EF E8 FFFFFEC6                     	CALL	_boxfill8
   389 000002F4 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   390 000002F7 83 C4 38                        	ADD	ESP,56
   391 000002FA 83 E8 03                        	SUB	EAX,3
   392 000002FD 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   393 00000300 50                              	PUSH	EAX
   394 00000301 6A 3B                           	PUSH	59
   395 00000303 50                              	PUSH	EAX
   396 00000304 6A 02                           	PUSH	2
   397 00000306 6A 00                           	PUSH	0
   398 00000308 FF 75 0C                        	PUSH	DWORD [12+EBP]
   399 0000030B FF 75 08                        	PUSH	DWORD [8+EBP]
   400 0000030E E8 FFFFFEA7                     	CALL	_boxfill8
   401 00000313 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   402 00000316 6A 3C                           	PUSH	60
   403 00000318 56                              	PUSH	ESI
   404 00000319 6A 3C                           	PUSH	60
   405 0000031B 6A 00                           	PUSH	0
   406 0000031D FF 75 0C                        	PUSH	DWORD [12+EBP]
   407 00000320 FF 75 08                        	PUSH	DWORD [8+EBP]
   408 00000323 E8 FFFFFE92                     	CALL	_boxfill8
   409 00000328 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   410 0000032B 83 C4 38                        	ADD	ESP,56
   411 0000032E 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   412 00000331 83 EB 04                        	SUB	EBX,4
   413 00000334 83 EF 2F                        	SUB	EDI,47
   414 00000337 56                              	PUSH	ESI
   415 00000338 53                              	PUSH	EBX
   416 00000339 56                              	PUSH	ESI
   417 0000033A 57                              	PUSH	EDI
   418 0000033B 6A 0F                           	PUSH	15
   419 0000033D FF 75 0C                        	PUSH	DWORD [12+EBP]
   420 00000340 FF 75 08                        	PUSH	DWORD [8+EBP]
   421 00000343 E8 FFFFFE72                     	CALL	_boxfill8
   422 00000348 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   423 0000034B 57                              	PUSH	EDI
   424 0000034C FF 75 EC                        	PUSH	DWORD [-20+EBP]
   425 0000034F 57                              	PUSH	EDI
   426 00000350 6A 0F                           	PUSH	15
   427 00000352 FF 75 0C                        	PUSH	DWORD [12+EBP]
   428 00000355 FF 75 08                        	PUSH	DWORD [8+EBP]
   429 00000358 E8 FFFFFE5D                     	CALL	_boxfill8
   430 0000035D 83 C4 38                        	ADD	ESP,56
   431 00000360 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   432 00000363 53                              	PUSH	EBX
   433 00000364 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   434 00000367 57                              	PUSH	EDI
   435 00000368 6A 07                           	PUSH	7
   436 0000036A FF 75 0C                        	PUSH	DWORD [12+EBP]
   437 0000036D FF 75 08                        	PUSH	DWORD [8+EBP]
   438 00000370 E8 FFFFFE45                     	CALL	_boxfill8
   439 00000375 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   440 00000378 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   441 0000037B 83 E8 03                        	SUB	EAX,3
   442 0000037E 50                              	PUSH	EAX
   443 0000037F 56                              	PUSH	ESI
   444 00000380 50                              	PUSH	EAX
   445 00000381 6A 07                           	PUSH	7
   446 00000383 FF 75 0C                        	PUSH	DWORD [12+EBP]
   447 00000386 FF 75 08                        	PUSH	DWORD [8+EBP]
   448 00000389 E8 FFFFFE2C                     	CALL	_boxfill8
   449 0000038E 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   450 00000391 5B                              	POP	EBX
   451 00000392 5E                              	POP	ESI
   452 00000393 5F                              	POP	EDI
   453 00000394 5D                              	POP	EBP
   454 00000395 C3                              	RET
   455 00000396                                 	GLOBAL	_putfonts8_asc
   456 00000396                                 _putfonts8_asc:
   457 00000396 55                              	PUSH	EBP
   458 00000397 89 E5                           	MOV	EBP,ESP
   459 00000399 57                              	PUSH	EDI
   460 0000039A 56                              	PUSH	ESI
   461 0000039B 53                              	PUSH	EBX
   462 0000039C 50                              	PUSH	EAX
   463 0000039D 8B 5D 1C                        	MOV	EBX,DWORD [28+EBP]
   464 000003A0 8A 45 18                        	MOV	AL,BYTE [24+EBP]
   465 000003A3 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   466 000003A6 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   467 000003A9 8B 7D 14                        	MOV	EDI,DWORD [20+EBP]
   468 000003AC 80 3B 00                        	CMP	BYTE [EBX],0
   469 000003AF 75 08                           	JNE	L35
   470 000003B1                                 L37:
   471 000003B1 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   472 000003B4 5B                              	POP	EBX
   473 000003B5 5E                              	POP	ESI
   474 000003B6 5F                              	POP	EDI
   475 000003B7 5D                              	POP	EBP
   476 000003B8 C3                              	RET
   477 000003B9                                 L35:
   478 000003B9 0F B6 03                        	MOVZX	EAX,BYTE [EBX]
   479 000003BC C1 E0 04                        	SAL	EAX,4
   480 000003BF 43                              	INC	EBX
   481 000003C0 05 [00000000]                   	ADD	EAX,_hankaku
   482 000003C5 50                              	PUSH	EAX
   483 000003C6 0F BE 45 F3                     	MOVSX	EAX,BYTE [-13+EBP]
   484 000003CA 50                              	PUSH	EAX
   485 000003CB 57                              	PUSH	EDI
   486 000003CC 56                              	PUSH	ESI
   487 000003CD 83 C6 08                        	ADD	ESI,8
   488 000003D0 FF 75 0C                        	PUSH	DWORD [12+EBP]
   489 000003D3 FF 75 08                        	PUSH	DWORD [8+EBP]
   490 000003D6 E8 0000000A                     	CALL	_putfont8
   491 000003DB 83 C4 18                        	ADD	ESP,24
   492 000003DE 80 3B 00                        	CMP	BYTE [EBX],0
   493 000003E1 75 D6                           	JNE	L35
   494 000003E3 EB CC                           	JMP	L37
   495 000003E5                                 	GLOBAL	_putfont8
   496 000003E5                                 _putfont8:
   497 000003E5 55                              	PUSH	EBP
   498 000003E6 89 E5                           	MOV	EBP,ESP
   499 000003E8 57                              	PUSH	EDI
   500 000003E9 56                              	PUSH	ESI
   501 000003EA 53                              	PUSH	EBX
   502 000003EB 31 DB                           	XOR	EBX,EBX
   503 000003ED 51                              	PUSH	ECX
   504 000003EE 51                              	PUSH	ECX
   505 000003EF 8A 45 18                        	MOV	AL,BYTE [24+EBP]
   506 000003F2 8B 7D 10                        	MOV	EDI,DWORD [16+EBP]
   507 000003F5 88 45 EF                        	MOV	BYTE [-17+EBP],AL
   508 000003F8                                 L51:
   509 000003F8 8B 4D 1C                        	MOV	ECX,DWORD [28+EBP]
   510 000003FB 8A 14 0B                        	MOV	DL,BYTE [EBX+ECX*1]
   511 000003FE 84 D2                           	TEST	DL,DL
   512 00000400 79 14                           	JNS	L43
   513 00000402 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   514 00000405 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   515 00000408 01 D8                           	ADD	EAX,EBX
   516 0000040A 8A 4D EF                        	MOV	CL,BYTE [-17+EBP]
   517 0000040D 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   518 00000411 01 F8                           	ADD	EAX,EDI
   519 00000413 88 0C 30                        	MOV	BYTE [EAX+ESI*1],CL
   520 00000416                                 L43:
   521 00000416 88 D0                           	MOV	AL,DL
   522 00000418 83 E0 40                        	AND	EAX,64
   523 0000041B 84 C0                           	TEST	AL,AL
   524 0000041D 74 15                           	JE	L44
   525 0000041F 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   526 00000422 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   527 00000425 01 D8                           	ADD	EAX,EBX
   528 00000427 8A 4D EF                        	MOV	CL,BYTE [-17+EBP]
   529 0000042A 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   530 0000042E 01 F8                           	ADD	EAX,EDI
   531 00000430 88 4C 30 01                     	MOV	BYTE [1+EAX+ESI*1],CL
   532 00000434                                 L44:
   533 00000434 88 D0                           	MOV	AL,DL
   534 00000436 83 E0 20                        	AND	EAX,32
   535 00000439 84 C0                           	TEST	AL,AL
   536 0000043B 74 15                           	JE	L45
   537 0000043D 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   538 00000440 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   539 00000443 01 D8                           	ADD	EAX,EBX
   540 00000445 8A 4D EF                        	MOV	CL,BYTE [-17+EBP]
   541 00000448 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   542 0000044C 01 F8                           	ADD	EAX,EDI
   543 0000044E 88 4C 30 02                     	MOV	BYTE [2+EAX+ESI*1],CL
   544 00000452                                 L45:
   545 00000452 88 D0                           	MOV	AL,DL
   546 00000454 83 E0 10                        	AND	EAX,16
   547 00000457 84 C0                           	TEST	AL,AL
   548 00000459 74 15                           	JE	L46
   549 0000045B 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   550 0000045E 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   551 00000461 01 D8                           	ADD	EAX,EBX
   552 00000463 8A 4D EF                        	MOV	CL,BYTE [-17+EBP]
   553 00000466 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   554 0000046A 01 F8                           	ADD	EAX,EDI
   555 0000046C 88 4C 30 03                     	MOV	BYTE [3+EAX+ESI*1],CL
   556 00000470                                 L46:
   557 00000470 88 D0                           	MOV	AL,DL
   558 00000472 83 E0 08                        	AND	EAX,8
   559 00000475 84 C0                           	TEST	AL,AL
   560 00000477 74 15                           	JE	L47
   561 00000479 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   562 0000047C 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   563 0000047F 01 D8                           	ADD	EAX,EBX
   564 00000481 8A 4D EF                        	MOV	CL,BYTE [-17+EBP]
   565 00000484 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   566 00000488 01 F8                           	ADD	EAX,EDI
   567 0000048A 88 4C 30 04                     	MOV	BYTE [4+EAX+ESI*1],CL
   568 0000048E                                 L47:
   569 0000048E 88 D0                           	MOV	AL,DL
   570 00000490 83 E0 04                        	AND	EAX,4
   571 00000493 84 C0                           	TEST	AL,AL
   572 00000495 74 15                           	JE	L48
   573 00000497 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   574 0000049A 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   575 0000049D 01 D8                           	ADD	EAX,EBX
   576 0000049F 8A 4D EF                        	MOV	CL,BYTE [-17+EBP]
   577 000004A2 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   578 000004A6 01 F8                           	ADD	EAX,EDI
   579 000004A8 88 4C 30 05                     	MOV	BYTE [5+EAX+ESI*1],CL
   580 000004AC                                 L48:
   581 000004AC 88 D0                           	MOV	AL,DL
   582 000004AE 83 E0 02                        	AND	EAX,2
   583 000004B1 84 C0                           	TEST	AL,AL
   584 000004B3 74 15                           	JE	L49
   585 000004B5 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   586 000004B8 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   587 000004BB 01 D8                           	ADD	EAX,EBX
   588 000004BD 8A 4D EF                        	MOV	CL,BYTE [-17+EBP]
   589 000004C0 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   590 000004C4 01 F8                           	ADD	EAX,EDI
   591 000004C6 88 4C 30 06                     	MOV	BYTE [6+EAX+ESI*1],CL
   592 000004CA                                 L49:
   593 000004CA 83 E2 01                        	AND	EDX,1
   594 000004CD 84 D2                           	TEST	DL,DL
   595 000004CF 74 15                           	JE	L41
   596 000004D1 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   597 000004D4 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   598 000004D7 01 D8                           	ADD	EAX,EBX
   599 000004D9 8A 55 EF                        	MOV	DL,BYTE [-17+EBP]
   600 000004DC 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   601 000004E0 01 F8                           	ADD	EAX,EDI
   602 000004E2 88 54 08 07                     	MOV	BYTE [7+EAX+ECX*1],DL
   603 000004E6                                 L41:
   604 000004E6 43                              	INC	EBX
   605 000004E7 83 FB 0F                        	CMP	EBX,15
   606 000004EA 0F 8E FFFFFF08                  	JLE	L51
   607 000004F0 58                              	POP	EAX
   608 000004F1 5A                              	POP	EDX
   609 000004F2 5B                              	POP	EBX
   610 000004F3 5E                              	POP	ESI
   611 000004F4 5F                              	POP	EDI
   612 000004F5 5D                              	POP	EBP
   613 000004F6 C3                              	RET
   614                                          [SECTION .data]
   615 00000060                                 _cursor.1:
   616 00000060 2A 2A 2A 2A 2A 2A 2A 2A 2A 2A   	DB	"**************.."
       0000006A 2A 2A 2A 2A 2E 2E 
   617 00000070 2A 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"*OOOOOOOOOOO*..."
       0000007A 4F 4F 2A 2E 2E 2E 
   618 00000080 2A 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"*OOOOOOOOOO*...."
       0000008A 4F 2A 2E 2E 2E 2E 
   619 00000090 2A 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"*OOOOOOOOO*....."
       0000009A 2A 2E 2E 2E 2E 2E 
   620 000000A0 2A 4F 4F 4F 4F 4F 4F 4F 4F 2A   	DB	"*OOOOOOOO*......"
       000000AA 2E 2E 2E 2E 2E 2E 
   621 000000B0 2A 4F 4F 4F 4F 4F 4F 4F 2A 2E   	DB	"*OOOOOOO*......."
       000000BA 2E 2E 2E 2E 2E 2E 
   622 000000C0 2A 4F 4F 4F 4F 4F 4F 4F 2A 2E   	DB	"*OOOOOOO*......."
       000000CA 2E 2E 2E 2E 2E 2E 
   623 000000D0 2A 4F 4F 4F 4F 4F 4F 4F 4F 2A   	DB	"*OOOOOOOO*......"
       000000DA 2E 2E 2E 2E 2E 2E 
   624 000000E0 2A 4F 4F 4F 4F 2A 2A 4F 4F 4F   	DB	"*OOOO**OOO*....."
       000000EA 2A 2E 2E 2E 2E 2E 
   625 000000F0 2A 4F 4F 4F 2A 2E 2E 2A 4F 4F   	DB	"*OOO*..*OOO*...."
       000000FA 4F 2A 2E 2E 2E 2E 
   626 00000100 2A 4F 4F 2A 2E 2E 2E 2E 2A 4F   	DB	"*OO*....*OOO*..."
       0000010A 4F 4F 2A 2E 2E 2E 
   627 00000110 2A 4F 2A 2E 2E 2E 2E 2E 2E 2A   	DB	"*O*......*OOO*.."
       0000011A 4F 4F 4F 2A 2E 2E 
   628 00000120 2A 2A 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"**........*OOO*."
       0000012A 2A 4F 4F 4F 2A 2E 
   629 00000130 2A 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"*..........*OOO*"
       0000013A 2E 2A 4F 4F 4F 2A 
   630 00000140 2E 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"............*OO*"
       0000014A 2E 2E 2A 4F 4F 2A 
   631 00000150 2E 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	".............***"
       0000015A 2E 2E 2E 2A 2A 2A 
   632                                          [SECTION .text]
   633 000004F7                                 	GLOBAL	_init_mouse_cursor8
   634 000004F7                                 _init_mouse_cursor8:
   635 000004F7 55                              	PUSH	EBP
   636 000004F8 89 E5                           	MOV	EBP,ESP
   637 000004FA 57                              	PUSH	EDI
   638 000004FB 56                              	PUSH	ESI
   639 000004FC 31 FF                           	XOR	EDI,EDI
   640 000004FE 53                              	PUSH	EBX
   641 000004FF 56                              	PUSH	ESI
   642 00000500 31 DB                           	XOR	EBX,EBX
   643 00000502 8A 45 0C                        	MOV	AL,BYTE [12+EBP]
   644 00000505 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   645 00000508 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   646 0000050B                                 L67:
   647 0000050B 31 D2                           	XOR	EDX,EDX
   648 0000050D                                 L66:
   649 0000050D 8D 04 3A                        	LEA	EAX,DWORD [EDX+EDI*1]
   650 00000510 80 B8 [00000060] 2A             	CMP	BYTE [_cursor.1+EAX],42
   651 00000517 74 35                           	JE	L72
   652 00000519                                 L63:
   653 00000519 80 B8 [00000060] 4F             	CMP	BYTE [_cursor.1+EAX],79
   654 00000520 74 26                           	JE	L73
   655 00000522                                 L64:
   656 00000522 80 B8 [00000060] 2E             	CMP	BYTE [_cursor.1+EAX],46
   657 00000529 74 15                           	JE	L74
   658 0000052B                                 L61:
   659 0000052B 42                              	INC	EDX
   660 0000052C 83 FA 0F                        	CMP	EDX,15
   661 0000052F 7E DC                           	JLE	L66
   662 00000531 43                              	INC	EBX
   663 00000532 83 C7 10                        	ADD	EDI,16
   664 00000535 83 FB 0F                        	CMP	EBX,15
   665 00000538 7E D1                           	JLE	L67
   666 0000053A 5B                              	POP	EBX
   667 0000053B 5B                              	POP	EBX
   668 0000053C 5E                              	POP	ESI
   669 0000053D 5F                              	POP	EDI
   670 0000053E 5D                              	POP	EBP
   671 0000053F C3                              	RET
   672 00000540                                 L74:
   673 00000540 8A 4D F3                        	MOV	CL,BYTE [-13+EBP]
   674 00000543 88 0C 30                        	MOV	BYTE [EAX+ESI*1],CL
   675 00000546 EB E3                           	JMP	L61
   676 00000548                                 L73:
   677 00000548 C6 04 30 07                     	MOV	BYTE [EAX+ESI*1],7
   678 0000054C EB D4                           	JMP	L64
   679 0000054E                                 L72:
   680 0000054E C6 04 30 00                     	MOV	BYTE [EAX+ESI*1],0
   681 00000552 EB C5                           	JMP	L63
   682 00000554                                 	GLOBAL	_putblock8_8
   683 00000554                                 _putblock8_8:
   684 00000554 55                              	PUSH	EBP
   685 00000555 89 E5                           	MOV	EBP,ESP
   686 00000557 57                              	PUSH	EDI
   687 00000558 56                              	PUSH	ESI
   688 00000559 31 F6                           	XOR	ESI,ESI
   689 0000055B 53                              	PUSH	EBX
   690 0000055C 83 EC 0C                        	SUB	ESP,12
   691 0000055F 3B 75 14                        	CMP	ESI,DWORD [20+EBP]
   692 00000562 7D 3E                           	JGE	L87
   693 00000564 31 FF                           	XOR	EDI,EDI
   694 00000566                                 L85:
   695 00000566 31 DB                           	XOR	EBX,EBX
   696 00000568 3B 5D 10                        	CMP	EBX,DWORD [16+EBP]
   697 0000056B 7D 2C                           	JGE	L89
   698 0000056D 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
   699 00000570 01 F8                           	ADD	EAX,EDI
   700 00000572 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   701 00000575                                 L84:
   702 00000575 8B 45 1C                        	MOV	EAX,DWORD [28+EBP]
   703 00000578 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
   704 0000057B 01 F0                           	ADD	EAX,ESI
   705 0000057D 01 DA                           	ADD	EDX,EBX
   706 0000057F 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   707 00000583 01 D0                           	ADD	EAX,EDX
   708 00000585 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   709 00000588 8B 55 EC                        	MOV	EDX,DWORD [-20+EBP]
   710 0000058B 43                              	INC	EBX
   711 0000058C 8A 12                           	MOV	DL,BYTE [EDX]
   712 0000058E 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
   713 00000591 FF 45 EC                        	INC	DWORD [-20+EBP]
   714 00000594 3B 5D 10                        	CMP	EBX,DWORD [16+EBP]
   715 00000597 7C DC                           	JL	L84
   716 00000599                                 L89:
   717 00000599 46                              	INC	ESI
   718 0000059A 03 7D 24                        	ADD	EDI,DWORD [36+EBP]
   719 0000059D 3B 75 14                        	CMP	ESI,DWORD [20+EBP]
   720 000005A0 7C C4                           	JL	L85
   721 000005A2                                 L87:
   722 000005A2 83 C4 0C                        	ADD	ESP,12
   723 000005A5 5B                              	POP	EBX
   724 000005A6 5E                              	POP	ESI
   725 000005A7 5F                              	POP	EDI
   726 000005A8 5D                              	POP	EBP
   727 000005A9 C3                              	RET
   728 000005AA                                 	GLOBAL	_init_gdtidt
   729 000005AA                                 _init_gdtidt:
   730 000005AA 55                              	PUSH	EBP
   731 000005AB 89 E5                           	MOV	EBP,ESP
   732 000005AD 56                              	PUSH	ESI
   733 000005AE 53                              	PUSH	EBX
   734 000005AF BE 00270000                     	MOV	ESI,2555904
   735 000005B4 BB 00001FFF                     	MOV	EBX,8191
   736 000005B9                                 L95:
   737 000005B9 6A 00                           	PUSH	0
   738 000005BB 6A 00                           	PUSH	0
   739 000005BD 6A 00                           	PUSH	0
   740 000005BF 56                              	PUSH	ESI
   741 000005C0 83 C6 08                        	ADD	ESI,8
   742 000005C3 E8 0000007B                     	CALL	_set_segmdesc
   743 000005C8 83 C4 10                        	ADD	ESP,16
   744 000005CB 4B                              	DEC	EBX
   745 000005CC 79 EB                           	JNS	L95
   746 000005CE 68 00004092                     	PUSH	16530
   747 000005D3 BE 0026F800                     	MOV	ESI,2553856
   748 000005D8 6A 00                           	PUSH	0
   749 000005DA BB 000000FF                     	MOV	EBX,255
   750 000005DF 6A FF                           	PUSH	-1
   751 000005E1 68 00270008                     	PUSH	2555912
   752 000005E6 E8 00000058                     	CALL	_set_segmdesc
   753 000005EB 68 0000409A                     	PUSH	16538
   754 000005F0 68 00280000                     	PUSH	2621440
   755 000005F5 68 0007FFFF                     	PUSH	524287
   756 000005FA 68 00270010                     	PUSH	2555920
   757 000005FF E8 0000003F                     	CALL	_set_segmdesc
   758 00000604 83 C4 20                        	ADD	ESP,32
   759 00000607 68 00270000                     	PUSH	2555904
   760 0000060C 68 0000FFFF                     	PUSH	65535
   761 00000611 E8 [00000000]                   	CALL	_load_gdtr
   762 00000616 58                              	POP	EAX
   763 00000617 5A                              	POP	EDX
   764 00000618                                 L100:
   765 00000618 6A 00                           	PUSH	0
   766 0000061A 6A 00                           	PUSH	0
   767 0000061C 6A 00                           	PUSH	0
   768 0000061E 56                              	PUSH	ESI
   769 0000061F 83 C6 08                        	ADD	ESI,8
   770 00000622 E8 00000066                     	CALL	_set_gatedesc
   771 00000627 83 C4 10                        	ADD	ESP,16
   772 0000062A 4B                              	DEC	EBX
   773 0000062B 79 EB                           	JNS	L100
   774 0000062D 68 0026F800                     	PUSH	2553856
   775 00000632 68 000007FF                     	PUSH	2047
   776 00000637 E8 [00000000]                   	CALL	_load_idtr
   777 0000063C 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   778 0000063F 5B                              	POP	EBX
   779 00000640 5E                              	POP	ESI
   780 00000641 5D                              	POP	EBP
   781 00000642 C3                              	RET
   782 00000643                                 	GLOBAL	_set_segmdesc
   783 00000643                                 _set_segmdesc:
   784 00000643 55                              	PUSH	EBP
   785 00000644 89 E5                           	MOV	EBP,ESP
   786 00000646 53                              	PUSH	EBX
   787 00000647 8B 55 0C                        	MOV	EDX,DWORD [12+EBP]
   788 0000064A 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   789 0000064D 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   790 00000650 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   791 00000653 81 FA 000FFFFF                  	CMP	EDX,1048575
   792 00000659 76 08                           	JBE	L106
   793 0000065B C1 EA 0C                        	SHR	EDX,12
   794 0000065E 0D 00008000                     	OR	EAX,32768
   795 00000663                                 L106:
   796 00000663 66 89 13                        	MOV	WORD [EBX],DX
   797 00000666 88 43 05                        	MOV	BYTE [5+EBX],AL
   798 00000669 C1 EA 10                        	SHR	EDX,16
   799 0000066C C1 F8 08                        	SAR	EAX,8
   800 0000066F 83 E2 0F                        	AND	EDX,15
   801 00000672 66 89 4B 02                     	MOV	WORD [2+EBX],CX
   802 00000676 83 E0 F0                        	AND	EAX,-16
   803 00000679 C1 F9 10                        	SAR	ECX,16
   804 0000067C 09 C2                           	OR	EDX,EAX
   805 0000067E 88 4B 04                        	MOV	BYTE [4+EBX],CL
   806 00000681 88 53 06                        	MOV	BYTE [6+EBX],DL
   807 00000684 C1 F9 08                        	SAR	ECX,8
   808 00000687 88 4B 07                        	MOV	BYTE [7+EBX],CL
   809 0000068A 5B                              	POP	EBX
   810 0000068B 5D                              	POP	EBP
   811 0000068C C3                              	RET
   812 0000068D                                 	GLOBAL	_set_gatedesc
   813 0000068D                                 _set_gatedesc:
   814 0000068D 55                              	PUSH	EBP
   815 0000068E 89 E5                           	MOV	EBP,ESP
   816 00000690 53                              	PUSH	EBX
   817 00000691 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   818 00000694 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   819 00000697 8B 5D 14                        	MOV	EBX,DWORD [20+EBP]
   820 0000069A 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
   821 0000069D 66 89 42 02                     	MOV	WORD [2+EDX],AX
   822 000006A1 88 5A 05                        	MOV	BYTE [5+EDX],BL
   823 000006A4 66 89 0A                        	MOV	WORD [EDX],CX
   824 000006A7 89 D8                           	MOV	EAX,EBX
   825 000006A9 C1 F8 08                        	SAR	EAX,8
   826 000006AC C1 F9 10                        	SAR	ECX,16
   827 000006AF 88 42 04                        	MOV	BYTE [4+EDX],AL
   828 000006B2 66 89 4A 06                     	MOV	WORD [6+EDX],CX
   829 000006B6 5B                              	POP	EBX
   830 000006B7 5D                              	POP	EBP
   831 000006B8 C3                              	RET
